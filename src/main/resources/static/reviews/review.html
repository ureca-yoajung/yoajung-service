<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="review.css" rel="stylesheet">
  <title>Review</title>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>리뷰</h1>
  </div>

  <!-- 리뷰 작성 버튼 -->
  <div class="review-write-container" style="text-align: right; margin-bottom: 5px;">
    <button class="review-write-btn" id="review-write-btn" style="display: none;">리뷰 작성</button>
  </div>

  <!-- 리뷰 수, 평점 -->
  <div class="review-stats">
    <div class="total-reviews">전체 리뷰 <span id="total-review"></span>개</div>
    <div class="total-reviews">★ 평점 <span id="avg-stars"></span> 점</div>
  </div>

  <!-- 리뷰 컨테이너 -->
  <div class="reviews-container" id="reviews-container"></div> <!-- 여기에 JS로 리뷰들을 삽입 -->

  <!-- 리뷰 item 템플릿 -->
  <template id="review-template">
    <div class="review-item">
      <div class="review-header">
        <div class="user-info"><span class="username"></span></div>
        <div class="review-date"></div>
      </div>
      <div class="rating-with-actions">
        <div class="rating">
          <div class="stars"></div>
          <span class="rating-text"></span>
        </div>
        <div class="action-buttons" style="display: none;">
          <button class="edit-btn">수정</button>
          <button class="delete-btn">삭제</button>
        </div>
      </div>
      <div class="review-content"></div>
      <div class="review-footer">
        <div class="review-content collapsed" id="review-content"></div>
        <button class="expand-btn" style="display: none;">펼치기 ⌄</button>
        <div class="like-section">
          <button class="like-btn">❤️ <span class="like-count">0</span></button>
        </div>
      </div>
    </div>
  </template>


  <!-- 리뷰작성 모달 -->
  <div id="review-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>리뷰 작성</h2>
      <div class="rating-stars" id="star-rating">
        <span class="star" data-value="1">★</span>
        <span class="star" data-value="2">★</span>
        <span class="star" data-value="3">★</span>
        <span class="star" data-value="4">★</span>
        <span class="star" data-value="5">★</span>
        <span><span id="insert-selected-rating-text" style="margin-left: 10px; font-weight: bold;">5</span> / 5</span>
      </div>
      <textarea class="review-modal-textarea" id="review-insert-content" placeholder="리뷰 내용을 입력하세요" rows="5"></textarea>
      <div class="modal-buttons">
        <button class="submit-review" id="submit-review">등록</button>
        <button class="cancel-review" id="cancel-review">취소</button>
      </div>
    </div>
  </div>
  <!-- 리뷰 수정 모달 -->
  <div id="edit-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3>리뷰 수정</h3>
      <div id="edit-star-rating" class="rating-stars">
        <span class="star" data-value="1">★</span>
        <span class="star" data-value="2">★</span>
        <span class="star" data-value="3">★</span>
        <span class="star" data-value="4">★</span>
        <span class="star" data-value="5">★</span>
        <span><span id="edit-selected-rating-text" style="margin-left: 10px; font-weight: bold;">5</span> / 5</span>
      </div>
      <textarea class="review-modal-textarea" id="edit-review-content" rows="5"></textarea>
      <div class="modal-buttons">
        <button class="submit-review" onclick="submitEditReview()">수정 완료</button>
        <button class="cancel-review" onclick="closeEditModal()">취소</button>
      </div>
    </div>
  </div>

  <!-- 페이지 번호 버튼이 JS로 삽입됨 -->
  <div class="pagination" id="pagination-buttons"></div>
</div>

<script src="review.js"></script>
</body>
</html>