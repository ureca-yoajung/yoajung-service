<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>비밀번호 재설정</title>
</head>
<body>
<h2>비밀번호 재설정</h2>
<input id="new-pw" type="password" placeholder="새 비밀번호">
<button id="reset-pw-btn">비밀번호 재설정</button>
<div id="result"></div>
<script>
    // 쿼리 스트링에서 토큰 추출
    const urlParams = new URLSearchParams(window.location.search);
    const token = urlParams.get('token');
    document.getElementById('reset-pw-btn').onclick = function () {
        fetch('/api/auth/reset', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                token: token,
                password: document.getElementById('new-pw').value
            })
        })
            .then(r => r.json())
            .then(d => document.getElementById('result').innerText = JSON.stringify(d));
    };
</script>
</body>
</html>